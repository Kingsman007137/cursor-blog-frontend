<template>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <!-- ä½¿ç”¨ grid è¿›è¡Œå·¦å³å¸ƒå±€ -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
      <!-- å·¦ä¾§å›¾ç‰‡åŒºåŸŸ -->
      <div class="grid grid-cols-3 gap-[3px] w-full ml-8" style="max-width: 30rem;">
        <!-- ç¬¬ä¸€å¼ å¤§å›¾ -->
        <div class="col-span-2 row-span-2 aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="border-top-left-radius: 0.375rem;">
          <img 
            src="@/assets/nine-grid/0.jpg" 
            alt="Main Photo" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
        <!-- å³ä¸Šå°å›¾ -->
        <div class="aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="border-top-right-radius: 0.375rem; animation-delay: 100ms;">
          <img 
            src="@/assets/nine-grid/1.jpg" 
            alt="Grid Photo 1" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
        <!-- å³ä¸‹å°å›¾ -->
        <div class="aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="animation-delay: 200ms;">
          <img 
            src="@/assets/nine-grid/2.jpg" 
            alt="Grid Photo 2" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
        <!-- ä¸­é—´ä¸‰å¼ å°å›¾ -->
        <div class="aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="animation-delay: 300ms;">
          <img 
            src="@/assets/nine-grid/3.jpg" 
            alt="Grid Photo 3" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
        <div class="aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="animation-delay: 400ms;">
          <img 
            src="@/assets/nine-grid/4.jpg" 
            alt="Grid Photo 4" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
        <div class="aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="animation-delay: 500ms;">
          <img 
            src="@/assets/nine-grid/5.jpg" 
            alt="Grid Photo 5" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
        <!-- åº•éƒ¨ä¸‰å¼ å°å›¾ -->
        <div class="aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="border-bottom-left-radius: 0.375rem; animation-delay: 600ms;">
          <img 
            src="@/assets/nine-grid/6.jpg" 
            alt="Grid Photo 6" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
        <div class="aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="animation-delay: 700ms;">
          <img 
            src="@/assets/nine-grid/7.jpg" 
            alt="Grid Photo 7" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
        <div class="aspect-square overflow-hidden shadow-md animate-fade-scale" 
             style="border-bottom-right-radius: 0.375rem; animation-delay: 800ms;">
          <img 
            src="@/assets/nine-grid/8.jpg" 
            alt="Grid Photo 8" 
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
          >
        </div>
      </div>

      <!-- å³ä¾§æ–‡å­—åŒºåŸŸ -->
      <div class="flex flex-col justify-center lg:pl-8">
        <div class="w-full backdrop-blur-xl bg-white/10 rounded-md shadow-md p-8 relative" 
             style="max-width: 30rem; backdrop-filter: blur(20px) saturate(180%); background: rgba(255, 255, 255, 0.1); height: calc(30rem + 10rem);">
          <!-- åå­—éƒ¨åˆ†ä½ç½®ä¿æŒä¸å˜ -->
          <h1 class="font-bold text-gray-900 custom-font" 
              style="margin-top: 0.5rem; font-size: 3.5rem;">
            Kingsman Pan
          </h1>
          
          <!-- ä½¿ç”¨ç»å¯¹å®šä½æ§åˆ¶æ–‡å­—ä½ç½® -->
          <div class="absolute left-8 right-8" style="top: 25%;">
            <p 
              ref="textElement" 
              class="text-xl text-gray-800 leading-relaxed opacity-0"
            >
              {{ fullText }}
            </p>
            <p 
              class="text-xl text-gray-800 leading-relaxed absolute top-0 left-0 right-0"
              v-html="displayText + '<span class=\'animate-blink\'>|</span>'"
            >
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'

const texts = [
  // ç¬¬ä¸€é˜¶æ®µï¼šå‰ä¸¤æ®µï¼ˆä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼‰
  [`ä½ å¥½ï¼Œæˆ‘æ˜¯ Kingsman Panï¼Œä¸€ä½ç›®å‰ä»€ä¹ˆéƒ½è¿˜ä¸æ˜¯çš„äººã€‚æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººç©ºé—´ï¼ğŸ˜`,
   `æˆ‘åœ¨å…¨æ ˆå¼€å‘ã€Web3å¼€å‘ã€äº‘è®¡ç®—ã€é‡åŒ–å’Œä»·æŠ•ç­‰é¢†åŸŸæœ‰æ‰€æ¶‰çŒï¼Œçƒ­è¡·äºæ¢ç´¢ï¼Œåˆ›é€ æœ‰è¶£çš„é¡¹ç›®ã€‚`],
  // ç¬¬äºŒé˜¶æ®µï¼šç¬¬ä¸‰æ®µ
  `å¥½äº†ï¼Œæ²¡ä»€ä¹ˆå¯ä»‹ç»çš„äº†ï¼Œè¿™ä¸€è¡Œç”¨æ¥å‡‘å­—æ•°ã€‚ã€‚ã€‚`,
  // ç¬¬ä¸‰é˜¶æ®µï¼šæœ€åä¸€æ®µ
  `å“¦ï¼Œå¯¹äº†ï¼Œæ„Ÿè°¢Cursorï¼Œæ²¡æœ‰å®ƒæˆ‘è¿™ä¸ªç½‘ç«™åšä¸äº†è¿™ä¹ˆå¥½çœ‹çš„å‰ç«¯ã€‚ğŸ”†`
]

const displayText = ref('')
const textElement = ref(null)

const typeText = async () => {
  // ç¬¬ä¸€é˜¶æ®µï¼šä¸¤æ®µåŒæ—¶æ‰“å­—
  const maxLength = Math.max(texts[0][0].length, texts[0][1].length)
  for (let i = 0; i <= maxLength; i++) {
    const firstPart = texts[0][0].slice(0, i)
    const secondPart = texts[0][1].slice(0, i)
    displayText.value = `${firstPart}\n\n${secondPart}`
    await new Promise(resolve => setTimeout(resolve, 80))
  }
  
  // æš‚åœä¸€ä¸‹
  await new Promise(resolve => setTimeout(resolve, 1000))
  
  // ç¬¬äºŒé˜¶æ®µï¼šæ˜¾ç¤ºç¬¬ä¸‰æ®µ
  const secondPhase = displayText.value + '\n\n' + texts[1]
  for (let i = displayText.value.length; i <= secondPhase.length; i++) {
    displayText.value = secondPhase.slice(0, i)
    await new Promise(resolve => setTimeout(resolve, 80))
  }
  
  // å†æ¬¡æš‚åœ
  await new Promise(resolve => setTimeout(resolve, 1000))
  
  // ç¬¬ä¸‰é˜¶æ®µï¼šæ˜¾ç¤ºæœ€åä¸€æ®µ
  const finalText = secondPhase + '\n\n' + texts[2]
  for (let i = secondPhase.length; i <= finalText.length; i++) {
    displayText.value = finalText.slice(0, i)
    await new Promise(resolve => setTimeout(resolve, 80))
  }

  // æ‰“å­—å®Œæˆåï¼Œå°† Cursor è½¬æ¢ä¸ºé“¾æ¥
  displayText.value = displayText.value.replace(
    'Cursor',
    '<a href="https://www.cursor.com/" target="_blank" class="text-blue-500 hover:text-blue-700">Cursor</a>'
  )
}

onMounted(() => {
  typeText()
})
</script>

<style scoped>
@font-face {
  font-family: 'CustomFont';
  src: url('@/assets/fonts/ClickSpeed.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
}

.custom-font {
  font-family: 'CustomFont', sans-serif;
}

/* æ·»åŠ æ­£æ–‡å­—ä½“æ ·å¼ */
p {
  white-space: pre-line;
  font-family: 'Chakra Petch', sans-serif;
  letter-spacing: 0.01em;  /* ç¨å¾®å¢åŠ å­—é—´è· */
  line-height: 1.5;  /* è°ƒæ•´è¡Œé«˜ */
  font-weight: 400;  /* ä½¿ç”¨å¸¸è§„å­—é‡ */
}

.animate-blink {
  animation: blink 1s step-end infinite;
}

@keyframes blink {
  from, to {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

@keyframes fadeScale {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-fade-scale {
  animation: fadeScale 0.6s ease-out forwards;
  opacity: 0;
}
</style>